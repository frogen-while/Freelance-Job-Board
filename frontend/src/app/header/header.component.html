<header class="header">
  <div class="header-inner">
    <a class="brand" routerLink="/">FJB</a>

    <nav class="main-nav">
      <ng-container *ngIf="auth.isLoggedIn(); else guestNav">
        <a class="nav-link" routerLink="/dashboard" routerLinkActive="active">Dashboard</a>
        <a class="nav-link" *ngIf="auth.isFreelancer()" routerLink="/find-work/browse" routerLinkActive="active">Find Work</a>
        <a class="nav-link" *ngIf="auth.isFreelancer()" routerLink="/my-proposals" routerLinkActive="active">My Proposals</a>
        <a class="nav-link" *ngIf="auth.isEmployer()" routerLink="/hire/browse" routerLinkActive="active">Find Talent</a>
        <a class="nav-link" *ngIf="auth.isEmployer()" routerLink="/my-jobs" routerLinkActive="active">My Jobs</a>
        <a class="nav-link" routerLink="/about">About Us</a>
      </ng-container>
      
      <ng-template #guestNav>
        <a class="nav-link" routerLink="/find-work">Find Work</a>
        <a class="nav-link" routerLink="/hire">Hire Freelancers</a>
        <a class="nav-link" routerLink="/about">About Us</a>
      </ng-template>
    </nav>

    <nav class="header-nav">
      <ng-container *ngIf="!auth.isLoggedIn(); else loggedIn">
        <a class="nav-link" routerLink="/login">Log in</a>
        <a class="nav-btn" routerLink="/register">Sign up</a>
      </ng-container>

      <ng-template #loggedIn>
          <a class="profile-link" routerLink="/profile" *ngIf="auth.getUser() as user">
            <span class="profile-pic">
              <img *ngIf="user.profile_image_url; else initials" [src]="user.profile_image_url" alt="Profile" />
              <ng-template #initials>
                <span class="initials">{{ getInitials(user) }}</span>
              </ng-template>
            </span>
          </a>
        <button class="nav-link profile-logout" (click)="logout()">
          <img src="/pictures/logout_icon.png" alt="Logout" width="25" height="25"/>
        </button>
      </ng-template>
    </nav>
  </div>
</header>