<div class="find-work-page">
  <section class="hero-section">
    <div class="hero-bg">
      <div class="grid-pattern"></div>
      <div class="glow glow-1"></div>
      <div class="glow glow-2"></div>
    </div>

    <div class="hero-content">
      <span class="hero-label">For Freelancers</span>
      
      <h1 class="hero-title">
        Find work that
        <span class="highlight">matches your skills</span>
      </h1>

      <p class="hero-subtitle">
        Browse thousands of projects from clients around the world. 
        Your next opportunity is just a click away.
      </p>

      <div class="search-container">
        <div class="search-box">
          <mat-icon class="search-icon">search</mat-icon>
          <input
            type="text"
            class="search-input"
            [(ngModel)]="searchQuery"
            placeholder="Search for jobs, e.g. 'React Developer'"
            (keyup.enter)="onSearch()"
          />
          <button class="search-btn" (click)="onSearch()">Search Jobs</button>
        </div>
        
        <div class="popular-searches">
          <span>Popular:</span>
          <a routerLink="/find-work/browse" [queryParams]="{q: 'Web Development'}">Web Development</a>
          <a routerLink="/find-work/browse" [queryParams]="{q: 'Design'}">Design</a>
          <a routerLink="/find-work/browse" [queryParams]="{q: 'Writing'}">Writing</a>
          <a routerLink="/find-work/browse" [queryParams]="{q: 'Mobile App'}">Mobile App</a>
        </div>
      </div>
    </div>
  </section>


  <section class="stats-section">
    <div class="stats-grid">
      <div class="stat-item" *ngFor="let stat of stats">
        <span class="stat-value">{{ stat.value }}</span>
        <span class="stat-label">{{ stat.label }}</span>
      </div>
    </div>
  </section>

  <section class="categories-section" *ngIf="categories.length > 0">
    <div class="section-inner">
      <div class="section-header">
        <div>
          <h2 class="section-title">Explore by category</h2>
          <p class="section-subtitle">Find projects in your area of expertise</p>
        </div>
        <a class="see-all-link" routerLink="/find-work/browse">See all categories →</a>
      </div>

      <div class="categories-grid">
        <a class="category-card" 
           *ngFor="let category of categories" 
           [routerLink]="['/find-work/browse']"
           [queryParams]="{ category: category.category_id }">
          <div class="category-icon">
            <mat-icon>work</mat-icon>
          </div>
          <div class="category-info">
            <h3 class="category-name">{{ category.name }}</h3>
            <p class="category-desc">{{ category.description | slice:0:60 }}{{ category.description && category.description.length > 60 ? '...' : '' }}</p>
          </div>
          <span class="category-arrow">→</span>
        </a>
      </div>
    </div>
  </section>

  <section class="jobs-section" *ngIf="recentJobs.length > 0">
    <div class="section-inner">
      <div class="section-header">
        <div>
          <h2 class="section-title">Latest opportunities</h2>
          <p class="section-subtitle">Fresh projects posted by clients</p>
        </div>
        <a class="see-all-link" routerLink="/find-work/browse">Browse all jobs →</a>
      </div>

      <div class="jobs-list">
        <a class="job-card" *ngFor="let job of recentJobs" [routerLink]="['/jobs', job.job_id]">
          <div class="job-main">
            <h3 class="job-title">{{ job.title }}</h3>
            <p class="job-description">{{ job.description | slice:0:150 }}{{ job.description.length > 150 ? '...' : '' }}</p>
          </div>
          <div class="job-meta">
            <span class="job-budget" *ngIf="job.budget">
              ${{ job.budget }}
            </span>
            <span class="job-status" [class]="job.status.toLowerCase().replace(' ', '-')">
              {{ job.status }}
            </span>
          </div>
        </a>
      </div>
    </div>
  </section>

  <section class="why-section">
    <div class="section-inner">
      <h2 class="section-title centered">Why freelancers choose us</h2>
      <p class="section-subtitle centered">Join thousands of professionals building their careers</p>

      <div class="why-grid">
        <div class="why-card" *ngFor="let item of whyJoin">
          <div class="why-icon">
            <mat-icon *ngIf="item.icon === 'briefcase'">work</mat-icon>
            <mat-icon *ngIf="item.icon === 'dollar'">attach_money</mat-icon>
            <mat-icon *ngIf="item.icon === 'clock'">schedule</mat-icon>
            <mat-icon *ngIf="item.icon === 'trending'">trending_up</mat-icon>
          </div>
          <h3 class="why-title">{{ item.title }}</h3>
          <p class="why-description">{{ item.description }}</p>
        </div>
      </div>
    </div>
  </section>

  <section class="cta-section">
    <div class="section-inner">
      <div class="cta-card">
        <div class="cta-content">
          <h2 class="cta-title">Ready to start earning?</h2>
          <p class="cta-subtitle">Create your free profile and start applying to jobs today</p>
        </div>
        <div class="cta-actions">
          <button class="btn-primary" routerLink="/register">Create Profile</button>
          <button class="btn-ghost" (click)="browseJobs()">Browse Jobs</button>
        </div>
      </div>
    </div>
  </section>
</div>
