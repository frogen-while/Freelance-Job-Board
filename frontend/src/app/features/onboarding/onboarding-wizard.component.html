<div class="onboarding-page">
  <div class="wizard-container">
    <div class="wizard-header">
      <h1>Complete Your Profile</h1>
      <p class="subtitle" *ngIf="isFreelancer">Set up your freelancer profile to start finding work</p>
      <p class="subtitle" *ngIf="!isFreelancer">Set up your profile to start hiring talent</p>
    </div>

    <div class="wizard-body">
      <div class="form-group">
        <label for="headline">Professional Title *</label>
        <input type="text" id="headline" class="form-input" [(ngModel)]="data.headline" 
          [placeholder]="isFreelancer ? 'e.g., Full Stack Developer' : 'e.g., Product Manager'" maxlength="255">
      </div>

      <div class="form-group">
        <label for="description">About You</label>
        <textarea id="description" class="form-input" [(ngModel)]="data.description" 
          placeholder="Brief description..." rows="3" maxlength="2000"></textarea>
      </div>

      <div class="form-row">
        <div class="form-group half">
          <label for="photo_url">Photo URL</label>
          <input type="url" id="photo_url" class="form-input" [(ngModel)]="data.photo_url" placeholder="https://...">
        </div>
        <div class="form-group half">
          <label for="location">Location</label>
          <input type="text" id="location" class="form-input" [(ngModel)]="data.location" placeholder="City, Country">
        </div>
      </div>

      <ng-container *ngIf="isFreelancer">
        <div class="form-row">
          <div class="form-group half">
            <label for="hourly_rate">Hourly Rate ($) *</label>
            <input type="number" id="hourly_rate" class="form-input" [(ngModel)]="data.hourly_rate" placeholder="25" min="1" max="999">
          </div>
          <div class="form-group half">
            <label for="experience_level">Experience Level</label>
            <select id="experience_level" class="form-input" [(ngModel)]="data.experience_level">
              <option [ngValue]="null">Select level</option>
              <option value="entry">Entry Level</option>
              <option value="intermediate">Intermediate</option>
              <option value="expert">Expert</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group half">
            <label for="github_url">GitHub</label>
            <input type="url" id="github_url" class="form-input" [(ngModel)]="data.github_url" placeholder="https://github.com/...">
          </div>
          <div class="form-group half">
            <label for="linkedin_url">LinkedIn</label>
            <input type="url" id="linkedin_url" class="form-input" [(ngModel)]="data.linkedin_url" placeholder="https://linkedin.com/in/...">
          </div>
        </div>

        <div class="form-group">
          <label>Skills * (select up to 15)</label>
          <div class="selected-skills" *ngIf="data.skills.length > 0">
            <span class="skill-tag-selected" *ngFor="let skillId of data.skills">
              {{ getSkillName(skillId) }}
              <button type="button" class="remove-skill" (click)="removeSkill(skillId)">Ã—</button>
            </span>
          </div>
          <input type="text" [(ngModel)]="skillSearch" (input)="filterSkills()" placeholder="Search skills..." class="form-input skill-search">
          <div class="skills-grid">
            <button type="button" *ngFor="let skill of filteredSkills" class="skill-option"
              [class.selected]="isSkillSelected(skill.skill_id)" (click)="toggleSkill(skill.skill_id)">
              {{ skill.name }}
            </button>
          </div>
          <span class="hint">{{ data.skills.length }} / 15 selected</span>
        </div>
      </ng-container>

      <ng-container *ngIf="!isFreelancer">
        <div class="form-group">
          <label for="company_name">Company Name *</label>
          <input type="text" id="company_name" class="form-input" [(ngModel)]="data.company_name" placeholder="Your company" maxlength="255">
        </div>

        <div class="form-row">
          <div class="form-group half">
            <label for="industry">Industry</label>
            <select id="industry" class="form-input" [(ngModel)]="data.industry">
              <option value="">Select</option>
              <option *ngFor="let ind of industries" [value]="ind">{{ ind }}</option>
            </select>
          </div>
          <div class="form-group half">
            <label for="company_size">Company Size</label>
            <select id="company_size" class="form-input" [(ngModel)]="data.company_size">
              <option [ngValue]="null">Select</option>
              <option value="1-10">1-10</option>
              <option value="11-50">11-50</option>
              <option value="51-200">51-200</option>
              <option value="201-500">201-500</option>
              <option value="500+">500+</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="company_website">Company Website</label>
          <input type="url" id="company_website" class="form-input" [(ngModel)]="data.company_website" placeholder="https://...">
        </div>
      </ng-container>
    </div>

    <div class="error-message" *ngIf="error">{{ error }}</div>

    <div class="wizard-footer">
      <button type="button" class="btn-gradient-success" (click)="submit()" [disabled]="!canSubmit() || loading">
        {{ loading ? 'Saving...' : 'Complete Profile' }}
      </button>
    </div>
  </div>
</div>
